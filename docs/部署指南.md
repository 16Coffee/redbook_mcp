# å°çº¢ä¹¦ MCP æœåŠ¡å™¨éƒ¨ç½²æŒ‡å—

æœ¬æŒ‡å—ä»‹ç»å¦‚ä½•å°†å°çº¢ä¹¦ MCP æœåŠ¡å™¨éƒ¨ç½²ä¸ºå…¬å…±æœåŠ¡ï¼Œè®©æ¯ä¸ªäººéƒ½èƒ½åœ¨ CherryStudio ä¸­ä½¿ç”¨ã€‚

## ğŸ¯ éƒ¨ç½²æ–¹æ¡ˆå¯¹æ¯”

| æ–¹æ¡ˆ | ä¼˜ç‚¹ | ç¼ºç‚¹ | é€‚ç”¨åœºæ™¯ |
|------|------|------|----------|
| **npm åŒ…** | å®‰è£…ç®€å•ï¼Œè‡ªåŠ¨æ›´æ–° | éœ€è¦æœ¬åœ° Python ç¯å¢ƒ | ä¸ªäººç”¨æˆ·ï¼Œå¼€å‘è€… |
| **Docker** | ç¯å¢ƒéš”ç¦»ï¼Œè·¨å¹³å° | éœ€è¦ Docker çŸ¥è¯† | æœåŠ¡å™¨éƒ¨ç½²ï¼Œå›¢é˜Ÿä½¿ç”¨ |
| **æºç åˆ†å‘** | å®Œå…¨æ§åˆ¶ï¼Œå¯å®šåˆ¶ | å®‰è£…å¤æ‚ï¼Œç»´æŠ¤å›°éš¾ | é«˜çº§ç”¨æˆ·ï¼Œå®šåˆ¶éœ€æ±‚ |

## ğŸš€ æ–¹æ¡ˆ1: å‘å¸ƒ npm åŒ…ï¼ˆæ¨èï¼‰

### 1.1 å‡†å¤‡å‘å¸ƒ

```bash
# 1. ç¡®ä¿ä»£ç å·²æäº¤
git add .
git commit -m "å‡†å¤‡å‘å¸ƒ npm åŒ…"

# 2. è¿è¡Œå‘å¸ƒè„šæœ¬
chmod +x scripts/publish.sh
./scripts/publish.sh
```

### 1.2 ç”¨æˆ·å®‰è£…æ–¹å¼

ç”¨æˆ·åªéœ€è¦è¿è¡Œï¼š

```bash
# å…¨å±€å®‰è£…
npm install -g xiaohongshu-mcp-server

# åœ¨ CherryStudio ä¸­é…ç½®
{
  "name": "å°çº¢ä¹¦",
  "command": "xiaohongshu-mcp",
  "args": []
}
```

### 1.3 è‡ªåŠ¨æ›´æ–°

ç”¨æˆ·å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æ›´æ–°ï¼š

```bash
npm update -g xiaohongshu-mcp-server
```

## ğŸ³ æ–¹æ¡ˆ2: Docker éƒ¨ç½²

### 2.1 æ„å»ºé•œåƒ

```bash
# æ„å»ºæœ¬åœ°é•œåƒ
docker build -t xiaohongshu-mcp-server .

# æˆ–ä½¿ç”¨ docker-compose
docker-compose build
```

### 2.2 å‘å¸ƒåˆ° Docker Hub

```bash
# ç™»å½• Docker Hub
docker login

# æ ‡è®°é•œåƒ
docker tag xiaohongshu-mcp-server yourusername/xiaohongshu-mcp-server:latest

# æ¨é€é•œåƒ
docker push yourusername/xiaohongshu-mcp-server:latest
```

### 2.3 ç”¨æˆ·ä½¿ç”¨æ–¹å¼

```bash
# æ‹‰å–å¹¶è¿è¡Œ
docker run -d \
  --name xiaohongshu-mcp \
  -p 8000:8000 \
  -v xiaohongshu_data:/app/data \
  yourusername/xiaohongshu-mcp-server:latest

# åœ¨ CherryStudio ä¸­é…ç½®
{
  "name": "å°çº¢ä¹¦",
  "command": "docker",
  "args": ["exec", "xiaohongshu-mcp", "python", "-m", "src.interfaces.mcp.server"]
}
```

## ğŸŒ æ–¹æ¡ˆ3: äº‘æœåŠ¡éƒ¨ç½²

### 3.1 éƒ¨ç½²åˆ° Railway

1. è¿æ¥ GitHub ä»“åº“åˆ° Railway
2. æ·»åŠ ç¯å¢ƒå˜é‡ï¼š
   ```
   XIAOHONGSHU_LOG_LEVEL=INFO
   PORT=8000
   ```
3. Railway ä¼šè‡ªåŠ¨éƒ¨ç½²

### 3.2 éƒ¨ç½²åˆ° Heroku

```bash
# å®‰è£… Heroku CLI
# åˆ›å»ºåº”ç”¨
heroku create xiaohongshu-mcp-server

# è®¾ç½® buildpack
heroku buildpacks:add heroku/python
heroku buildpacks:add https://github.com/heroku/heroku-buildpack-google-chrome

# éƒ¨ç½²
git push heroku main
```

### 3.3 éƒ¨ç½²åˆ° Vercel

```bash
# å®‰è£… Vercel CLI
npm i -g vercel

# éƒ¨ç½²
vercel --prod
```

## ğŸ“¦ æ–¹æ¡ˆ4: GitHub Releases

### 4.1 åˆ›å»ºå‘å¸ƒåŒ…

åˆ›å»ºå‘å¸ƒåŒ…æ—¶ï¼Œéœ€è¦åŒ…å«ä»¥ä¸‹æ–‡ä»¶ï¼š
- src/ ç›®å½•
- requirements.txt
- README.md
- å®‰è£…è„šæœ¬

### 4.2 ç”¨æˆ·å®‰è£…æ–¹å¼

```bash
# ä¸‹è½½å¹¶è§£å‹
wget https://github.com/yourusername/xiaohongshu-mcp-server/releases/download/v1.0.0/xiaohongshu-mcp-1.0.0.tar.gz
tar -xzf xiaohongshu-mcp-1.0.0.tar.gz
cd xiaohongshu-mcp-1.0.0

# å®‰è£…
./install.sh

# åœ¨ CherryStudio ä¸­é…ç½®
{
  "name": "å°çº¢ä¹¦",
  "command": "python3",
  "args": ["-m", "src.interfaces.mcp.server"],
  "cwd": "/path/to/xiaohongshu-mcp-1.0.0"
}
```

## ğŸ”§ ç”¨æˆ·é…ç½®æŒ‡å—

### CherryStudio é…ç½®ç¤ºä¾‹

```json
{
  "mcpServers": {
    "xiaohongshu": {
      "command": "xiaohongshu-mcp",
      "args": [],
      "env": {
        "XIAOHONGSHU_LOG_LEVEL": "INFO"
      }
    }
  }
}
```

### é«˜çº§é…ç½®

```json
{
  "mcpServers": {
    "xiaohongshu": {
      "command": "xiaohongshu-mcp",
      "args": ["--dev"],
      "env": {
        "XIAOHONGSHU_LOG_LEVEL": "DEBUG",
        "XIAOHONGSHU_DATA_DIR": "/custom/path/browser_data",
        "XIAOHONGSHU_TIMEOUT": "60000"
      },
      "timeout": 30000
    }
  }
}
```

## ğŸ“Š ç›‘æ§å’Œç»´æŠ¤

### æ—¥å¿—ç›‘æ§

```bash
# æŸ¥çœ‹æ—¥å¿—
tail -f logs/app.log

# ç­›é€‰é”™è¯¯æ—¥å¿—
grep ERROR logs/app.log
```

### æ€§èƒ½ç›‘æ§

å¯ä»¥ä½¿ç”¨å„ç§ç›‘æ§å·¥å…·æ¥è·Ÿè¸ªæœåŠ¡å™¨æ€§èƒ½ï¼š
- Prometheus + Grafana
- è‡ªå®šä¹‰ç›‘æ§è„šæœ¬
- äº‘æœåŠ¡æä¾›çš„ç›‘æ§å·¥å…·

### å®šæœŸç»´æŠ¤

- **å¤‡ä»½æ•°æ®**ï¼šå®šæœŸå¤‡ä»½ browser_data ç›®å½•
- **æ›´æ–°ä¾èµ–**ï¼šå®šæœŸæ›´æ–° Python ä¾èµ–
- **æ¸…ç†ç¼“å­˜**ï¼šå®šæœŸæ¸…ç†æµè§ˆå™¨ç¼“å­˜å’Œä¸´æ—¶æ–‡ä»¶ 