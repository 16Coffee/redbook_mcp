# 抖音功能使用指南

本文档整合了抖音登录和内容发布的相关功能说明，为您提供完整的抖音功能使用参考。

## 目录
- [1. 抖音基础功能](#1-抖音基础功能)
  - [功能特性](#功能特性)
  - [核心优势](#核心优势)
  - [系统要求](#系统要求)
  - [使用方法](#使用方法)
- [2. 抖音内容发布功能](#2-抖音内容发布功能)
  - [支持的功能](#支持的功能)
  - [参数说明](#参数说明)
  - [支持的文件格式](#支持的文件格式)
  - [使用示例](#使用示例)
- [3. 故障排除](#3-故障排除)
  - [常见问题](#常见问题)
  - [发布前准备](#发布前准备)
  - [技术支持](#技术支持)

## 1. 抖音基础功能

### 功能特性

- 🔐 **智能登录管理** - 自动保持登录状态，支持扫码登录和手机号登录
- 💾 **登录状态持久化** - 自动保存和恢复登录状态，30天内无需重复登录
- 🔄 **与小红书工具集成** - 在同一个 MCP 服务器中同时使用小红书和抖音功能

### 核心优势

- **智能持久化登录**：首次登录后保存状态，30天内无需重复登录
- **多种登录方式**：支持扫码登录和手机号登录
- **稳定的浏览器管理**：自动处理浏览器异常和恢复
- **完整的错误处理**：提供清晰的错误信息和恢复建议

### 系统要求

- **Python**: 3.8 或更高版本
- **操作系统**: Windows, macOS, Linux
- **浏览器**: Chrome/Chromium（自动下载）

### 使用方法

#### 1. 确保小红书 MCP 服务器已配置

抖音功能已集成到小红书 MCP 服务器中，无需单独配置。

#### 2. 确认 CherryStudio 配置

确保您的 CherryStudio 已配置小红书 MCP 服务器。

#### 3. 登录抖音

```
请帮我登录抖音
```

## 2. 抖音内容发布功能

### 支持的功能

- 🎥 **视频发布** - 支持 MP4、MOV、AVI 等格式
- 📸 **图文发布** - 支持 JPG、PNG、GIF 等格式  
- 🤖 **智能检测** - 自动识别内容类型
- 🏷️ **话题标签** - 支持添加话题标签
- 🔒 **隐私设置** - 公开/私密/朋友可见
- 💬 **互动权限** - 评论/合拍/拼接权限设置

### 参数说明

#### 必需参数

| 参数 | 类型 | 说明 |
|------|------|------|
| `title` | string | 内容标题 |
| `content` | string | 内容描述 |
| `media_paths` | list | 媒体文件路径列表 |

#### 可选参数

| 参数 | 类型 | 默认值 | 说明 |
|------|------|--------|------|
| `content_type` | string | "auto" | 内容类型："video", "image", "auto" |
| `topics` | list | null | 话题标签列表 |
| `privacy` | string | "public" | 隐私设置："public", "private", "friends" |
| `allow_comment` | bool | true | 是否允许评论 |
| `allow_duet` | bool | true | 是否允许合拍（仅视频） |
| `allow_stitch` | bool | true | 是否允许拼接（仅视频） |

### 支持的文件格式

#### 视频格式
- MP4 (推荐)
- MOV
- AVI
- MKV
- FLV

#### 图片格式
- JPG/JPEG (推荐)
- PNG
- GIF
- WEBP

#### 文件限制
- 最大文件大小：500MB
- 视频时长：建议 15秒-3分钟
- 图片数量：最多 9 张

### 使用示例

#### 示例 1：发布美食视频

```
请帮我发布抖音视频：
- 标题：家常红烧肉制作教程
- 内容：简单易学的红烧肉做法，香甜软糯，老少皆宜
- 视频：/Users/chef/红烧肉教程.mp4
- 话题：美食、家常菜、教程
- 设置为公开，允许评论和合拍
```

#### 示例 2：发布穿搭图文

```
请发布抖音图文内容：
- 标题：秋日温柔穿搭分享
- 内容：温暖的秋日色调，简约而不失优雅
- 图片：["/Users/fashion/outfit1.jpg", "/Users/fashion/outfit2.jpg", "/Users/fashion/outfit3.jpg"]
- 话题：穿搭、秋装、时尚
- 仅朋友可见
```

## 3. 故障排除

### 常见问题

#### 登录问题
1. **登录失败**
   - 确保网络连接正常
   - 尝试清除登录状态后重新登录
   - 检查抖音是否有验证码或安全验证

2. **浏览器启动失败**
   - 确保系统有足够的内存
   - 检查是否有其他程序占用浏览器资源
   - 尝试重启 MCP 服务器

#### 发布问题
1. **发布失败怎么办？**
   - 检查登录状态
   - 验证文件路径是否正确
   - 确认网络连接
   - 查看错误日志

2. **文件问题**
   - 检查文件路径是否正确
   - 确认文件格式是否支持
   - 验证文件大小是否超限

### 发布前准备
1. **确保已登录抖音账号**
   ```
   请帮我登录抖音
   ```

2. **检查文件路径**
   - 使用绝对路径
   - 确保文件存在且可访问
   - 检查文件格式和大小

3. **内容审核**
   - 确保内容符合抖音社区规范
   - 避免版权问题
   - 注意隐私保护

### 技术支持

如果遇到问题，可以：
1. 查看日志文件获取详细错误信息
2. 运行测试脚本检查功能状态
3. 检查抖音官方是否有系统维护
4. 提交 Issue 到项目仓库 